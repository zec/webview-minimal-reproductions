<!DOCTYPE html>
<!--
   2021 Zachary Catlin;
   avaliable under the terms of the Unlicense (see ../UNLICENSE)
-->
<html>
<head>
  <title>.</title>
</head>
<body>
  <p>exit me</p>
</body>
<script>
document.addEventListener(
  'click',
  function(e) {
    window.external.invoke("exit");
    e.preventDefault();
    return false;
  },
  true
);

function sleep(ms) {
  return new Promise(function(resolve) { setTimeout(resolve, ms); });
}

window.onload = async function() {
  await sleep(5000);
  console.log("exiting after timeout future");
  window.external.invoke("exit");
}
</script>
</html>
